<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="/bootstrap.css">
	<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
	<script src="/bootstrap.js"></script>
	<title>KO Collections Tut</title>
</head>
<body>
<div class="container">
	<div class="page-header">
		<h1>Knockout.js Tutorial
			<small>Collections</small></h1>

		<div class="btn-group" role="group">
			<a href="/" class="btn btn-primary">Home</a>

			<div class="btn-group" role="group">
				<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Tutorials
					<span class="caret"></span>
				</button>
				<ul class="dropdown-menu">
					<li><a href="/ko/intro" >Intro</a></li>
					<li><a href="/ko/collections" >Collections</a></li>
				</ul>
			</div>

		</div>
	</div>

	<div>
		<h2>Your Seat Reservations
			(<span data-bind="text: seats().length"></span>)</h2>

		<button class="btn btn-primary" data-bind="click: addSeat, enable: seats().length < 5">Add Seat</button>
		<table class="table table-hover" data-bind="visible: seats().length > 0">
			<thead>
				<tr>
					<th>Passenger Name</th>
					<th>Meal</th>
					<th>Surchage</th>
					<th></th>
				</tr>
			</thead>
			<tbody data-bind="foreach: seats">
				<tr>
					<td >
						<input data-bind="value: name" />
					</td>
					<td >
						<select data-bind="options: $root.availableMeals, value: meal, optionsText: 'mealName'"></select>
					</td>
					<td data-bind="text: formattedPrice"></td>
					<td>
						<a class="btn btn-danger" href="#" data-bind="click: $root.removeSeat">Remove</a>
					</td>
				</tr>
			</tbody>
		</table>
		<h3 data-bind="visible: totalSurcharge() > 0">
			Total Surcharge: $<span data-bind="text: totalSurcharge().toFixed(2)"></span>
		</h3>
	</div>
</div>
</body>
<footer>
	<script src="/knockout.js"></script>
	<script src="/models/ko-collections-model.js"></script>
</footer>
</html>